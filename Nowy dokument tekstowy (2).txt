login as: cesarskaa
cesarskaa@213.184.8.36's password:
Linux bad2 4.10.17-1-pve #1 SMP PVE 4.10.17-16 (Tue, 11 Jul 2017 09:55:44 +0200)                                                                              x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Wed Nov 10 15:17:16 2021 from 5.184.111.193
cesarskaa@bad2:~$ mysql -u cesarskaa -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 1192
Server version: 8.0.22 MySQL Community Server - GPL

Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show databeses;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that                                                                              corresponds to your MySQL server version for the right syntax to use near 'datab                                                                             eses' at line 1
mysql> show databases;
+--------------------+
| Database           |
+--------------------+
| cesarskaa          |
| information_schema |
+--------------------+
2 rows in set (0.00 sec)

mysql> use cesarskaa;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql> show tables;
+---------------------+
| Tables_in_cesarskaa |
+---------------------+
| izba                |
| postac              |
| pracownik           |
| projekt             |
| przetwory           |
| statek              |
| walizka             |
+---------------------+
7 rows in set (0.01 sec)

mysql> desc postac;
+------------+---------------------------------+------+-----+---------+---------                                                                             -------+
| Field      | Type                            | Null | Key | Default | Extra                                                                                       |
+------------+---------------------------------+------+-----+---------+---------                                                                             -------+
| id_postaci | int                             | NO   | PRI | NULL    | auto_inc                                                                             rement |
| nazwa      | varchar(40)                     | NO   |     | NULL    |                                                                                             |
| rodzaj     | enum('wiking','ptak','kobieta') | YES  |     | NULL    |                                                                                             |
| data       | date                            | NO   |     | NULL    |                                                                                             |
| wiek       | int                             | NO   |     | NULL    |                                                                                             |
| funkcja    | varchar(40)                     | YES  |     | NULL    |                                                                                             |
| id_statku  | smallint unsigned               | NO   |     | 0       |                                                                                             |
+------------+---------------------------------+------+-----+---------+---------                                                                             -------+
7 rows in set (0.09 sec)

mysql> desc statek;
+----------------+-----------------------------------------+------+-----+-------                                                                             --+-------+
| Field          | Type                                    | Null | Key | Defaul                                                                             t | Extra |
+----------------+-----------------------------------------+------+-----+-------                                                                             --+-------+
| nazwa_statku   | varchar(40)                             | NO   | PRI | NULL                                                                                 |       |
| rodzaj_statku  | enum('handlowy','wojenny','pasazerski') | YES  |     | NULL                                                                                 |       |
| data_wodowania | date                                    | NO   |     | NULL                                                                                 |       |
| max_ladownosc  | int                                     | NO   |     | NULL                                                                                 |       |
+----------------+-----------------------------------------+------+-----+-------                                                                             --+-------+
4 rows in set (0.00 sec)

mysql> ALER TABLE postac ADD nazwa_statku VARCHAR(40); ALTER TABLE postac ADD FO                                                                             REIGN KEY (nazwa_statku) REFERENCES statek(nazwa_statku);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that                                                                              corresponds to your MySQL server version for the right syntax to use near 'ALER                                                                              TABLE postac ADD nazwa_statku VARCHAR(40)' at line 1
ERROR 1072 (42000): Key column 'nazwa_statku' doesn't exist in table
mysql> ALER TABLE postac ADD nazwa_statku VARCHAR(40);ALER TABLE postac ADD nazw                                                                             a_statku VARCHAR(40);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that                                                                              corresponds to your MySQL server version for the right syntax to use near 'ALER                                                                              TABLE postac ADD nazwa_statku VARCHAR(40)' at line 1
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that                                                                              corresponds to your MySQL server version for the right syntax to use near 'ALER                                                                              TABLE postac ADD nazwa_statku VARCHAR(40)' at line 1
mysql>
mysql> ALTER TABLE postac ADD nazwa_statku VARCHAR(40);ALTER TABLE postac ADD FO                                                                             REIGN KEY (nazwa_statku) REFERENCES statek(nazwa_statku);
Query OK, 0 rows affected (0.03 sec)
Records: 0  Duplicates: 0  Warnings: 0

Query OK, 8 rows affected (0.16 sec)
Records: 8  Duplicates: 0  Warnings: 0

mysql> desc postac;
+--------------+---------------------------------+------+-----+---------+-------                                                                             ---------+
| Field        | Type                            | Null | Key | Default | Extra                                                                                       |
+--------------+---------------------------------+------+-----+---------+-------                                                                             ---------+
| id_postaci   | int                             | NO   | PRI | NULL    | auto_i                                                                             ncrement |
| nazwa        | varchar(40)                     | NO   |     | NULL    |                                                                                             |
| rodzaj       | enum('wiking','ptak','kobieta') | YES  |     | NULL    |                                                                                             |
| data         | date                            | NO   |     | NULL    |                                                                                             |
| wiek         | int                             | NO   |     | NULL    |                                                                                             |
| funkcja      | varchar(40)                     | YES  |     | NULL    |                                                                                             |
| id_statku    | smallint unsigned               | NO   |     | 0       |                                                                                             |
| nazwa_statku | varchar(40)                     | YES  | MUL | NULL    |                                                                                             |
+--------------+---------------------------------+------+-----+---------+-------                                                                             ---------+
8 rows in set (0.00 sec)

mysql> select *from postac;
+------------+----------+---------+------------+------+---------+-----------+---                                                                             -----------+
| id_postaci | nazwa    | rodzaj  | data       | wiek | funkcja | id_statku | na                                                                             zwa_statku |
+------------+----------+---------+------------+------+---------+-----------+---                                                                             -----------+
|          1 | Bjorn    | wiking  | 1989-01-01 |   50 | kapitan |         0 | NU                                                                             LL         |
|          2 | Drozd    | ptak    | 2020-10-27 |    1 | NULL    |         0 | NU                                                                             LL         |
|          3 | Tesciowa | kobieta | 1933-03-23 |   88 | NULL    |         0 | NU                                                                             LL         |
|          4 | Marcin   | wiking  | 2000-03-01 |   21 | NULL    |         0 | NU                                                                             LL         |
|          5 | Karol    | wiking  | 1999-04-06 |   22 | NULL    |         0 | NU                                                                             LL         |
|          6 | Marcin   | wiking  | 1998-05-09 |   23 | NULL    |         0 | NU                                                                             LL         |
|          7 | Pawel    | wiking  | 1997-06-10 |   24 | NULL    |         0 | NU                                                                             LL         |
|          8 | Eustachy | wiking  | 1996-02-01 |   25 | NULL    |         0 | NU                                                                             LL         |
+------------+----------+---------+------------+------+---------+-----------+---                                                                             -----------+
8 rows in set (0.00 sec)

mysql> ALTER TABLE postac DROP COLUMN id_statku;
Query OK, 0 rows affected (0.07 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> select *from postac;
+------------+----------+---------+------------+------+---------+--------------+
| id_postaci | nazwa    | rodzaj  | data       | wiek | funkcja | nazwa_statku |
+------------+----------+---------+------------+------+---------+--------------+
|          1 | Bjorn    | wiking  | 1989-01-01 |   50 | kapitan | NULL         |
|          2 | Drozd    | ptak    | 2020-10-27 |    1 | NULL    | NULL         |
|          3 | Tesciowa | kobieta | 1933-03-23 |   88 | NULL    | NULL         |
|          4 | Marcin   | wiking  | 2000-03-01 |   21 | NULL    | NULL         |
|          5 | Karol    | wiking  | 1999-04-06 |   22 | NULL    | NULL         |
|          6 | Marcin   | wiking  | 1998-05-09 |   23 | NULL    | NULL         |
|          7 | Pawel    | wiking  | 1997-06-10 |   24 | NULL    | NULL         |
|          8 | Eustachy | wiking  | 1996-02-01 |   25 | NULL    | NULL         |
+------------+----------+---------+------------+------+---------+--------------+
8 rows in set (0.00 sec)

mysql> select *from statek;
+--------------+---------------+----------------+---------------+
| nazwa_statku | rodzaj_statku | data_wodowania | max_ladownosc |
+--------------+---------------+----------------+---------------+
| KOT          | pasazerski    | 2021-11-25     |            65 |
| PIES         | wojenny       | 2022-04-04     |           100 |
+--------------+---------------+----------------+---------------+
2 rows in set (0.00 sec)

