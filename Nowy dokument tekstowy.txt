login as: cesarskaa
cesarskaa@213.184.8.36's password:
Linux bad2 4.10.17-1-pve #1 SMP PVE 4.10.17-16 (Tue, 11 Jul 2017 09:55:44 +0200)                                                                              x86_64

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Wed Nov 10 13:20:26 2021 from 213.184.8.151
cesarskaa@bad2:~$ mysql -u cesarskaa -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 924
Server version: 8.0.22 MySQL Community Server - GPL

Copyright (c) 2000, 2020, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> show databases
    -> ;
+--------------------+
| Database           |
+--------------------+
| cesarskaa          |
| information_schema |
+--------------------+
2 rows in set (0.01 sec)

mysql> use cesarskaa;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql> show tables;
+---------------------+
| Tables_in_cesarskaa |
+---------------------+
| izba                |
| postac              |
| pracownik           |
| projekt             |
| przetwory           |
| statek              |
| walizka             |
+---------------------+
7 rows in set (0.00 sec)

mysql> desc statek;
+----------------+-----------------------------------------+------+-----+-------                                                                             --+-------+
| Field          | Type                                    | Null | Key | Defaul                                                                             t | Extra |
+----------------+-----------------------------------------+------+-----+-------                                                                             --+-------+
| nazwa_statku   | varchar(40)                             | NO   | PRI | NULL                                                                                 |       |
| rodzaj_statku  | enum('handlowy','wojenny','pasazerski') | YES  |     | NULL                                                                                 |       |
| data_wodowania | date                                    | NO   |     | NULL                                                                                 |       |
| max_ladownosc  | int                                     | NO   |     | NULL                                                                                 |       |
+----------------+-----------------------------------------+------+-----+-------                                                                             --+-------+
4 rows in set (0.01 sec)

mysql> desc postac;
+------------+---------------------------------+------+-----+---------+---------                                                                             -------+
| Field      | Type                            | Null | Key | Default | Extra                                                                                       |
+------------+---------------------------------+------+-----+---------+---------                                                                             -------+
| id_postaci | int                             | NO   | PRI | NULL    | auto_inc                                                                             rement |
| nazwa      | varchar(40)                     | NO   |     | NULL    |                                                                                             |
| rodzaj     | enum('wiking','ptak','kobieta') | YES  |     | NULL    |                                                                                             |
| data       | date                            | NO   |     | NULL    |                                                                                             |
| wiek       | int                             | NO   |     | NULL    |                                                                                             |
| funkcja    | varchar(40)                     | YES  |     | NULL    |                                                                                             |
+------------+---------------------------------+------+-----+---------+---------                                                                             -------+
6 rows in set (0.00 sec)

mysql> UPDATE postac SET funkcja='kapitan' WHERE nazwa='Bjorn';
Query OK, 1 row affected (0.01 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select *from postac;
+------------+----------+---------+------------+------+---------+
| id_postaci | nazwa    | rodzaj  | data       | wiek | funkcja |
+------------+----------+---------+------------+------+---------+
|          1 | Bjorn    | wiking  | 1989-01-01 |   50 | kapitan |
|          2 | Drozd    | ptak    | 2020-10-27 |    1 | NULL    |
|          3 | Tesciowa | kobieta | 1933-03-23 |   88 | NULL    |
|          4 | Marcin   | wiking  | 2000-03-01 |   21 | NULL    |
|          5 | Karol    | wiking  | 1999-04-06 |   22 | NULL    |
|          6 | Marcin   | wiking  | 1998-05-09 |   23 | NULL    |
|          7 | Pawel    | wiking  | 1997-06-10 |   24 | NULL    |
|          8 | Eustachy | wiking  | 1996-02-01 |   25 | NULL    |
+------------+----------+---------+------------+------+---------+
8 rows in set (0.00 sec)

mysql> select *from statek
    -> ;
+--------------+---------------+----------------+---------------+
| nazwa_statku | rodzaj_statku | data_wodowania | max_ladownosc |
+--------------+---------------+----------------+---------------+
| KOT          | pasazerski    | 2021-11-25     |            65 |
| PIES         | wojenny       | 2022-04-04     |           100 |
+--------------+---------------+----------------+---------------+
2 rows in set (0.00 sec)

mysql> desc statek;
+----------------+-----------------------------------------+------+-----+-------                                                                             --+-------+
| Field          | Type                                    | Null | Key | Defaul                                                                             t | Extra |
+----------------+-----------------------------------------+------+-----+-------                                                                             --+-------+
| nazwa_statku   | varchar(40)                             | NO   | PRI | NULL                                                                                 |       |
| rodzaj_statku  | enum('handlowy','wojenny','pasazerski') | YES  |     | NULL                                                                                 |       |
| data_wodowania | date                                    | NO   |     | NULL                                                                                 |       |
| max_ladownosc  | int                                     | NO   |     | NULL                                                                                 |       |
+----------------+-----------------------------------------+------+-----+-------                                                                             --+-------+
4 rows in set (0.00 sec)

mysql> ALTER TABLE postac ADD CONSTRAINT fk_nazwa_statkumysql> ALTER TABLE posta                                                                             c ADD C
mysql> ALTER TABLE postac ADD FOREIGN KEY ('nazwa_statku') REFERENCES nazwa_stat                                                                             ku;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that                                                                              corresponds to your MySQL server version for the right syntax to use near ''nazw                                                                             a_statku') REFERENCES nazwa_statku' at line 1
mysql> ALTER TABLE postac ADD FOREIGN (nazwa_statku) REFERENCES statek (nazwa_st                                                                             atku);
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that                                                                              corresponds to your MySQL server version for the right syntax to use near '(nazw                                                                             a_statku) REFERENCES statek (nazwa_statku)' at line 1
mysql> ALTER TABLE postac ADD FOREIGN KEY (nazwa_statku) REFERENCES statek (nazw                                                                             a_statku);
ERROR 1072 (42000): Key column 'nazwa_statku' doesn't exist in table
mysql> ALTER TABLE postac FOREIGN KEY (statek) REFERENCES statek (nazwa_statku);                                                                             
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that                                                                              corresponds to your MySQL server version for the right syntax to use near 'FOREI                                                                             GN KEY (statek) REFERENCES statek (nazwa_statku)' at line 1
mysql> ALTER TABLE postac ADD FOREIGN KEY (statek) REFERENCES statek (nazwa_stat                                                                             ku);
ERROR 1072 (42000): Key column 'statek' doesn't exist in table
mysql> ALTER TABLE postac ADD FOREIGN KEY ('statek') REFERENCES statek ('nazwa_s                                                                             tatku');
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that                                                                              corresponds to your MySQL server version for the right syntax to use near ''stat                                                                             ek') REFERENCES statek ('nazwa_statku')' at line 1
mysql> ALTER TABLE postac ADD FOREIGN KEY ('statki') REFERENCES statek ('nazwa_s                                                                             tatku');
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that                                                                              corresponds to your MySQL server version for the right syntax to use near ''stat                                                                             ki') REFERENCES statek ('nazwa_statku')' at line 1
mysql> ALTER TABLE postac ADD id_statku SMALLINT UNSIGNED NOT NULL DEFAULT 0;
Query OK, 0 rows affected (0.04 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> ALTER TABLE postac ADD CONSTRAINT fk_id_statku FOREIGN KEY (id_statku) RE                                                                             FERENCES statek (nazwa_statku);
ERROR 3780 (HY000): Referencing column 'id_statku' and referenced column 'nazwa_                                                                             statku' in foreign key constraint 'fk_id_statku' are incompatible.
mysql> select *from postac;
+------------+----------+---------+------------+------+---------+-----------+
| id_postaci | nazwa    | rodzaj  | data       | wiek | funkcja | id_statku |
+------------+----------+---------+------------+------+---------+-----------+
|          1 | Bjorn    | wiking  | 1989-01-01 |   50 | kapitan |         0 |
|          2 | Drozd    | ptak    | 2020-10-27 |    1 | NULL    |         0 |
|          3 | Tesciowa | kobieta | 1933-03-23 |   88 | NULL    |         0 |
|          4 | Marcin   | wiking  | 2000-03-01 |   21 | NULL    |         0 |
|          5 | Karol    | wiking  | 1999-04-06 |   22 | NULL    |         0 |
|          6 | Marcin   | wiking  | 1998-05-09 |   23 | NULL    |         0 |
|          7 | Pawel    | wiking  | 1997-06-10 |   24 | NULL    |         0 |
|          8 | Eustachy | wiking  | 1996-02-01 |   25 | NULL    |         0 |
+------------+----------+---------+------------+------+---------+-----------+
8 rows in set (0.00 sec)

mysql> desc postac;
+------------+---------------------------------+------+-----+---------+---------                                                                             -------+
| Field      | Type                            | Null | Key | Default | Extra                                                                                       |
+------------+---------------------------------+------+-----+---------+---------                                                                             -------+
| id_postaci | int                             | NO   | PRI | NULL    | auto_inc                                                                             rement |
| nazwa      | varchar(40)                     | NO   |     | NULL    |                                                                                             |
| rodzaj     | enum('wiking','ptak','kobieta') | YES  |     | NULL    |                                                                                             |
| data       | date                            | NO   |     | NULL    |                                                                                             |
| wiek       | int                             | NO   |     | NULL    |                                                                                             |
| funkcja    | varchar(40)                     | YES  |     | NULL    |                                                                                             |
| id_statku  | smallint unsigned               | NO   |     | 0       |                                                                                             |
+------------+---------------------------------+------+-----+---------+---------                                                                             -------+
7 rows in set (0.00 sec)

mysql> ALTER TABLE postac ADD CONSTRAINT statki FOREIGN KEY (id_statku) REFERENC                                                                             ES statek (nazwa_statku);
ERROR 3780 (HY000): Referencing column 'id_statku' and referenced column 'nazwa_                                                                             statku' in foreign key constraint 'statki' are incompatible.
mysql> ALTER TABLE postac ADD CONSTRAINT id_statku FOREIGN KEY (id_statku) REFER                                                                             ENCES statek (nazwa_statku);
ERROR 3780 (HY000): Referencing column 'id_statku' and referenced column 'nazwa_                                                                             statku' in foreign key constraint 'id_statku' are incompatible.
mysql>
